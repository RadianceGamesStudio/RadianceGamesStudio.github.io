// Translations Dictionary
const translations = {
    // Page Metadata
    "page-title": {
        en: "Ukrainian Birds - Radiance Games Studio",
        uk: "Українські пташки - Radiance Games Studio"
    },
    // Navigation
    "nav-home": { en: "Home", uk: "Головна" },
    "nav-game-info": { en: "Game Info", uk: "Про гру" },
    "nav-gameplay": { en: "Gameplay", uk: "Ігролад" }, // Or Ігровий процес
    "nav-about": { en: "About", uk: "Про нас" },
    "nav-contact": { en: "Contact", uk: "Контакти" },
    // Hero Section
    "hero-title": { en: "Ukrainian Birds", uk: "Українські пташки" }, // Keep original game title if preferred
    "hero-tagline": {
        en: "Take flight in an action-packed side-scroller supporting Ukraine's defenders!",
        uk: "Злітай у насиченому екшеном сайд-скролері на підтримку захисників України!"
    },
    "cta-google-play": { en: "Download on Google Play", uk: "Завантажити в Google Play" },
    "cta-learn-more": { en: "Learn More", uk: "Дізнатися більше" },
    // Game Spotlight
    "spotlight-title": { en: "Spotlight: Ukrainian Birds", uk: "У центрі уваги: Українські пташки" },
    "spotlight-p1": {
        en: "Control a heroic bird navigating treacherous skies and landscapes inspired by Ukraine. Engage in fast-paced, side-scrolling action as you eliminate waves of ground and air targets representing invaders.",
        uk: "Керуйте героїчною пташкою, що долає небезпечні небеса та ландшафти, натхненні Україною. Беріть участь у динамічному сайд-скролері, знищуючи хвилі наземних і повітряних цілей, що представляють загарбників."
    },
    "spotlight-p2": {
        en: "Collect coins scattered through the levels to upgrade your arsenal in the shop, grab hearts to stay in the fight longer, and show your support for Ukraine's resilience and spirit!",
        uk: "Збирайте монети, розкидані по рівнях, щоб покращити свій арсенал у крамниці, хапайте серця, щоб довше залишатися в бою, та демонструйте свою підтримку стійкості та духу України!"
    },
    "spotlight-cta": { en: "Get it on Google Play", uk: "Отримати в Google Play" },
    "spotlight-img1": { // Alt text
        en: "Ukrainian Birds gameplay: Stork flying over green hills and pig-like enemies.",
        uk: "Геймплей Українських пташок: Лелека летить над зеленими пагорбами та свиноподібними ворогами."
    },
     "spotlight-img2": { // Alt text
        en: "Ukrainian Birds gameplay: Stork flying past incoming missiles towards a heart pickup.",
        uk: "Геймплей Українських пташок: Лелека летить повз ракети до серця-аптечки."
    },
    // Showcase: Controls
    "controls-title": { en: "Intuitive Controls", uk: "Інтуїтивне керування" },
     "controls-img": { // Alt text
        en: "Gameplay Tutorial Screen: Explaining flight (tap to ascend), aiming (automatic), and shooting (tap screen) controls with visual aids.",
        uk: "Екран навчання геймплею: Пояснення керування польотом (торкніться для підйому), прицілюванням (автоматичне) та стрільбою (торкніться екрана) з візуальними підказками."
    },
    "controls-caption": {
        en: "Simple touch controls make flying and shooting intuitive. Maintain altitude with taps, aim automatically, and tap the screen to fire.",
        uk: "Просте сенсорне керування робить політ та стрільбу інтуїтивно зрозумілими. Підтримуйте висоту торканнями, прицілюйтесь автоматично та торкайтеся екрана для пострілу."
    },
    // Showcase: Shop
    "shop-title": { en: "Upgrade Your Arsenal", uk: "Покращуйте свій арсенал" },
     "shop-img": { // Alt text
        en: "Game Shop Interface: Showing available weapons like grenades, RPGs, rifles with their coin prices and selection indicators.",
        uk: "Інтерфейс ігрової крамниці: Показано доступну зброю, таку як гранати, РПГ, гвинтівки, з їх цінами в монетах та індикаторами вибору."
    },
    "shop-caption": {
        en: "Visit the shop between missions. Spend collected coins to unlock and upgrade powerful weapons for your feathered heroes.",
        uk: "Відвідуйте крамницю між місіями. Витрачайте зібрані монети, щоб розблокувати та покращити потужну зброю для ваших пернатих героїв."
    },
    // Showcase: Gameplay
    "gameplay-title": { en: "Defend Against Invaders", uk: "Захищайтесь від загарбників" },
    "gameplay-img": { // Alt text
        en: "Ukrainian Birds gameplay: Stork flying low over green hills, engaging pig-like ground targets with gunfire.",
        uk: "Геймплей Українських пташок: Лелека летить низько над зеленими пагорбами, атакуючи свиноподібні наземні цілі пострілами."
    },
    "gameplay-caption": {
        en: "Engage waves of ground and air enemies across diverse Ukrainian landscapes. Master flight and firepower to prevail!",
        uk: "Боріться з хвилями наземних і повітряних ворогів на різноманітних українських ландшафтах. Опануйте політ і вогневу міць, щоб перемогти!"
    },
    // Showcase: Launch
    "launch-title": { en: "Ready for Battle?", uk: "Готові до бою?" },
     "launch-img": { // Alt text
        en: "Ukrainian Birds start screen showing 'В БІЙ' (To Battle) and 'МЕНЮ' (Menu) options presented by geese on a HIMARS-like truck, hinting at the game's theme.",
        uk: "Стартовий екран Українських пташок, що показує опції 'В БІЙ' та 'МЕНЮ', представлені гусьми на вантажівці типу HIMARS, натякаючи на тематику гри."
    },
    "launch-caption": {
        en: "Jump straight into the action with 'В БІЙ' (To Battle) or access options and upgrades via the 'МЕНЮ' (Menu).",
        uk: "Переходьте одразу до дії за допомогою 'В БІЙ' або отримайте доступ до налаштувань та покращень через 'МЕНЮ'."
    },
    // About Us
    "about-title": { en: "About Radiance Games Studio", uk: "Про Radiance Games Studio" },
    "about-p1": {
        en: "Radiance Games Studio is a passionate team dedicated to creating engaging mobile games with impactful themes. We believe in the power of games to entertain and connect. \"Ukrainian Birds\" is our debut title, crafted with heart and purpose.",
        uk: "Radiance Games Studio – це команда ентузіастів, яка присвятила себе створенню захоплюючих мобільних ігор із важливими темами. Ми віримо в силу ігор розважати та об'єднувати. \"Українські пташки\" – наш дебютний проект, створений із серцем та метою."
        // Note: Escaped quotes inside the string
    },
    // Footer
    "contact-h3": { en: "Contact Us", uk: "Зв'яжіться з нами" },
    "contact-inquiries": { en: "General Inquiries & Support:", uk: "Загальні запити та підтримка:" },
    "social-h3": { en: "Follow Us", uk: "Слідкуйте за нами" },
    "footer-copy": { en: "&copy; 2024 Radiance Games Studio. All Rights Reserved.", uk: "&copy; 2024 Radiance Games Studio. Всі права захищено." }
};

// Function to set the language
function setLanguage(lang) {
    // Update html lang attribute
    document.documentElement.lang = lang;

    // Iterate through translation keys
    for (const key in translations) {
        const element = document.getElementById(key);
        if (element) {
            // Check if it's an image to update alt text, otherwise update innerText/innerHTML
            if (element.tagName === 'IMG') {
                if (translations[key][lang]) { // Check if translation exists for alt
                   element.alt = translations[key][lang];
                }
            } else if (key === 'page-title') { // Handle page title specifically
                 document.title = translations[key][lang];
            }
             else {
                // Use innerHTML for elements that might contain <br> like footer contact
                // Otherwise, innerText is safer
                 if (key === 'contact-inquiries' || key === 'footer-copy') {
                      element.innerHTML = translations[key][lang] + (key === 'contact-inquiries' ? '<br><a href="mailto:radiance.studio.games@gmail.com">radiance.studio.games@gmail.com</a>' : '');
                 } else {
                      element.innerText = translations[key][lang];
                 }
            }
        } else {
            console.warn(`Element with ID "${key}" not found for translation.`);
        }
    }

     // Update active state for buttons
     document.querySelectorAll('.lang-button').forEach(button => {
        if (button.getAttribute('data-lang') === lang) {
            button.classList.add('active');
        } else {
            button.classList.remove('active');
        }
     });

    // Store preference in localStorage
    localStorage.setItem('language', lang);
}

// Add event listeners to buttons
document.querySelectorAll('.lang-button').forEach(button => {
    button.addEventListener('click', () => {
        const lang = button.getAttribute('data-lang');
        setLanguage(lang);
    });
});

// Set initial language on page load
// Check localStorage first, then browser preference, then default to 'en'
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('language');
    // Basic browser language detection (can be improved)
    const browserLang = navigator.language.split('-')[0]; // e.g., "en-US" -> "en"

    let initialLang = 'en'; // Default

    if (savedLang && translations['page-title'][savedLang]) { // Check if saved lang is valid
         initialLang = savedLang;
    } else if (browserLang === 'uk' && translations['page-title']['uk']) { // Check if browser lang is uk and valid
        initialLang = 'uk';
    }
    // Otherwise default 'en' is used

    setLanguage(initialLang);
});